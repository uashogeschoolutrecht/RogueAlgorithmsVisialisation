"use strict";(self.webpackChunkroque_algorithms_visualisation=self.webpackChunkroque_algorithms_visualisation||[]).push([[298],{7298:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var r=n(2982),i=n(1413),u=n(4016),a=n(1608),o=n(6095),s=n(2791),c=n(9434),l=n(1092);function f(t,e,n){var r=(t-e)/(n-e)*3+1;return r>1?2*r:r}var d=function(){var t=(0,c.v9)((function(t){return t.pReducer.graphSlice.graph})),e=(0,u.sG)(),n=(0,a._6)().assign,d=(0,c.I0)();return(0,s.useEffect)((function(){var u=new o.MultiDirectedGraph;t.nodes.forEach((function(t){return u.addNode(t.id,(0,i.Z)((0,i.Z)({},{x:100*Math.random(),y:100*Math.random()}),t))})),console.log("Adding nodes");var a=u.nodes().map((function(t){return u.getNodeAttribute(t,"totalSimilarities")})),s=t.links.map((function(t){return t.similarities.length})),c=Math.min.apply(Math,(0,r.Z)(s)),h=Math.max.apply(Math,(0,r.Z)(s)),g=Math.min.apply(Math,(0,r.Z)(a)),m=Math.max.apply(Math,(0,r.Z)(a));console.log("Adding edges"),t.links.forEach((function(t){return u.addDirectedEdgeWithKey("".concat(t.source,"-").concat(t.target),t.source,t.target,{size:f(t.similarities.length,c,h)})})),console.log("Setting size and color"),u.forEachNode((function(e){var n,r;u.setNodeAttribute(e,"size",(n=u.getNodeAttribute(e,"totalSimilarities")+u.getNodeAttribute(e,"amountOfConnections")+function(t,e){var n=Number.parseInt(t);return e.links.filter((function(t){return t.source===n})).map((function(t){return t.similarities.length})).reduce((function(t,e){return t+e}),0)}(e,t),(n-(r=g))/(m-r)*28+2));var i=function(t,e){var n=Number.parseInt(t),r=e.links.filter((function(t){return t.source===n})),i=e.links.filter((function(t){return t.target===n}));return{source:r.map((function(t){return t.similarities.length})).reduce((function(t,e){return t+e}),0),target:i.map((function(t){return t.similarities.length})).reduce((function(t,e){return t+e}),0)}}(e,t);u.setNodeAttribute(e,"color",function(t,e){var n=t+e;if(n<=5)return"#777777";var r=t/n*100,i=e/n*100;return r>i?"#363A81":i>r?"#813636":"#999999"}(i.source,i.target))})),e(u),n(),d((0,l.$)({show:!1,type:""}))}),[t]),null}}}]);
//# sourceMappingURL=298.5dbd246f.chunk.js.map