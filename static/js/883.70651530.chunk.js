(self.webpackChunkroque_algorithms_visualisation=self.webpackChunkroque_algorithms_visualisation||[]).push([[883],{9883:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return p}});var t=e(2982),i=e(1413),a=e(4016),o=e(2108),u=e.n(o),l=(0,e(5718).wm)(u(),{}),c=e(6095),s=e(2791),h=e(9434),f=e(1092);function d(r,n,e){var t=(r-n)/(e-n)*3+1;return t>1?2*t:t}var p=function(){var r=(0,h.v9)((function(r){return r.pReducer.graphSlice.graph})),n=(0,a.sG)(),e=l().assign,o=(0,h.I0)();return(0,s.useEffect)((function(){var a=new c.MultiDirectedGraph;r.nodes.forEach((function(r){return a.addNode(r.id,(0,i.Z)((0,i.Z)({},{x:100*Math.random(),y:100*Math.random()}),r))})),console.log("Adding nodes");var u=a.nodes().map((function(r){return a.getNodeAttribute(r,"amountOfConnections")})),l=r.links.map((function(r){return r.similarities.length})),s=Math.min.apply(Math,(0,t.Z)(l)),h=Math.max.apply(Math,(0,t.Z)(l)),p=Math.min.apply(Math,(0,t.Z)(u)),v=Math.max.apply(Math,(0,t.Z)(u));console.log("Adding edges"),r.links.forEach((function(r){return a.addDirectedEdgeWithKey("".concat(r.source,"-").concat(r.target),r.source,r.target,{size:d(r.similarities.length,s,h)})})),console.log("Setting size and color"),a.forEachNode((function(n){var e,t;a.setNodeAttribute(n,"size",(e=a.getNodeAttribute(n,"amountOfConnections")/4+function(r,n){var e=Number.parseInt(r);return n.links.filter((function(r){return r.source===e})).map((function(r){return r.similarities.length})).reduce((function(r,n){return r+n}),0)}(n,r),(e-(t=p))/(v-t)*19+1));var i=function(r,n){var e=Number.parseInt(r),t=n.links.filter((function(r){return r.source===e})),i=n.links.filter((function(r){return r.target===e}));return{source:t.map((function(r){return r.similarities.length})).reduce((function(r,n){return r+n}),0),target:i.map((function(r){return r.similarities.length})).reduce((function(r,n){return r+n}),0)}}(n,r);a.setNodeAttribute(n,"color",function(r,n){var e=r+n;if(e<=5)return"#777777";var t=r/e*100,i=n/e*100;return t>i?"#363A81":i>t?"#813636":"#999999"}(i.source,i.target))})),n(a),e(),o((0,f.$)({show:!1,type:""}))}),[r]),null}},2108:function(r,n,e){var t=e(570),i=e(362),a=e(6686),o={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function u(r,n,e,t,i){this.wrappedCircle=i||null,this.children={},this.countChildren=0,this.id=r||null,this.next=null,this.previous=null,this.x=n||null,this.y=e||null,this.r=i?1010101:t||999}function l(r,n,e){for(var t in n.children){var i=n.children[t];i.hasChildren()?l(r,i,e):e[i.id]={x:i.x,y:i.y}}}function c(r,n){var e=r.r-n.r,t=n.x-r.x,i=n.y-r.y;return e<0||e*e<t*t+i*i}function s(r,n){var e=r.r-n.r+1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function h(r,n){for(var e=0;e<n.length;++e)if(!s(r,n[e]))return!1;return!0}function f(r,n){var e=r.x,t=r.y,i=r.r,a=n.x,o=n.y,l=n.r,c=a-e,s=o-t,h=l-i,f=Math.sqrt(c*c+s*s);return new u(null,(e+a+c/f*h)/2,(t+o+s/f*h)/2,(f+i+l)/2)}function d(r,n,e){var t=r.x,i=r.y,a=r.r,o=n.x,l=n.y,c=n.r,s=e.x,h=e.y,f=e.r,d=t-o,p=t-s,v=i-l,y=i-h,x=c-a,g=f-a,w=t*t+i*i-a*a,C=w-o*o-l*l+c*c,m=w-s*s-h*h+f*f,M=p*v-d*y,b=(v*m-y*C)/(2*M)-t,A=(y*x-v*g)/M,k=(p*C-d*m)/(2*M)-i,E=(d*g-p*x)/M,N=A*A+E*E-1,q=2*(a+b*A+k*E),I=b*b+k*k-a*a,P=-(N?(q+Math.sqrt(q*q-4*N*I))/(2*N):I/q);return new u(null,t+b+A*P,i+k+E*P,P)}function p(r){switch(r.length){case 1:return new u(null,(n=r[0]).x,n.y,n.r);case 2:return f(r[0],r[1]);case 3:return d(r[0],r[1],r[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+r.length)}var n}function v(r,n){var e,t;if(h(n,r))return[n];for(e=0;e<r.length;++e)if(c(n,r[e])&&h(f(r[e],n),r))return[r[e],n];for(e=0;e<r.length-1;++e)for(t=e+1;t<r.length;++t)if(c(f(r[e],r[t]),n)&&c(f(r[e],n),r[t])&&c(f(r[t],n),r[e])&&h(d(r[e],r[t],n),r))return[r[e],r[t],n];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function y(r){var n=r.wrappedCircle,e=r.next.wrappedCircle,t=n.r+e.r,i=(n.x*e.r+e.x*n.r)/t,a=(n.y*e.r+e.y*n.r)/t;return i*i+a*a}function x(r,n,e){var t,i,a,o,u=r.x-n.x,l=r.y-n.y,c=u*u+l*l;c?(i=n.r+e.r,i*=i,o=r.r+e.r,i>(o*=o)?(t=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-t*t)),e.x=r.x-t*u-a*l,e.y=r.y-t*l+a*u):(t=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-t*t)),e.x=n.x+t*u-a*l,e.y=n.y+t*l+a*u)):(e.x=n.x+e.r,e.y=n.y)}function g(r,n){var e=r.r+n.r-1e-6,t=n.x-r.x,i=n.y-r.y;return e>0&&e*e>t*t+i*i}function w(r,n){var e,t,i,a,o,l,c,h,f,d,w=r.length;if(0===w)return 0;if((e=r[0]).x=0,e.y=0,w<=1)return e.r;if(t=r[1],e.x=-t.r,t.x=e.r,t.y=0,w<=2)return e.r+t.r;x(t,e,i=r[2]),e=new u(null,null,null,null,e),t=new u(null,null,null,null,t),i=new u(null,null,null,null,i),e.next=i.previous=t,t.next=e.previous=i,i.next=t.previous=e;r:for(l=3;l<w;++l){i=r[l],x(e.wrappedCircle,t.wrappedCircle,i),i=new u(null,null,null,null,i),c=t.next,h=e.previous,f=t.wrappedCircle.r,d=e.wrappedCircle.r;do{if(f<=d){if(g(c.wrappedCircle,i.wrappedCircle)){t=c,e.next=t,t.previous=e,--l;continue r}f+=c.wrappedCircle.r,c=c.next}else{if(g(h.wrappedCircle,i.wrappedCircle)){(e=h).next=t,t.previous=e,--l;continue r}d+=h.wrappedCircle.r,h=h.previous}}while(c!==h.next);for(i.previous=e,i.next=t,e.next=t.previous=t=i,a=y(e);(i=i.next)!==t;)(o=y(i))<a&&(e=i,a=o);t=e.next}e=[t.wrappedCircle],i=t;for(var C=1e4;(i=i.next)!==t&&0!==--C;)e.push(i.wrappedCircle);for(i=function(r,n){var e,t,i=0,a=r.slice(),o=r.length,u=[];for(n(a);i<o;)e=a[i],t&&s(t,e)?++i:(t=p(u=v(u,e)),i=0);return t}(e,n),l=0;l<w;++l)(e=r[l]).x-=i.x,e.y-=i.y;return i.r}function C(r,n){var e=0;if(r.hasChildren()){for(var t in r.children){var i=r.children[t];i.hasChildren()&&(i.r=C(i,n))}e=w(Object.values(r.children),n)}return e}function m(r,n){for(var e in C(r,n),r.children){r.children[e].applyPositionToChildren()}}function M(r,n,e){if(!i(n))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");e=t(e,o);var c={},s={},h=n.nodes(),f=e.center,d=e.hierarchyAttributes,p=a.createShuffleInPlace(e.rng),v=e.scale,y=new u;n.forEachNode((function(r,n){var e=new u(r,null,null,n.size?n.size:1),t=y;d.forEach((function(r){var e=n[r];t=t.getChild(e)})),t.addChild(r,e)})),m(y,p),l(n,y,c);var x,g,w,C=h.length;for(w=0;w<C;w++){var M=h[w];x=f+v*c[M].x,g=f+v*c[M].y,s[M]={x:x,y:g},r&&(n.setNodeAttribute(M,e.attributes.x,x),n.setNodeAttribute(M,e.attributes.y,g))}return s}u.prototype.hasChildren=function(){return this.countChildren>0},u.prototype.addChild=function(r,n){this.children[r]=n,++this.countChildren},u.prototype.getChild=function(r){if(!this.children.hasOwnProperty(r)){var n=new u;this.children[r]=n,++this.countChildren}return this.children[r]},u.prototype.applyPositionToChildren=function(){if(this.hasChildren()){var r=this;for(var n in r.children){var e=r.children[n];e.x+=r.x,e.y+=r.y,e.applyPositionToChildren()}}};var b=M.bind(null,!1);b.assign=M.bind(null,!0),r.exports=b},570:function(r){r.exports=function r(n,e){n=n||{};var t,i={};for(var a in e){var o=n[a],u=e[a];!(t=u)||"object"!==typeof t||"function"===typeof t||Array.isArray(t)||t instanceof Set||t instanceof Map||t instanceof RegExp||t instanceof Date?i[a]=void 0===o?u:o:i[a]=r(o,u)}return i}},9194:function(r){function n(r){return function(n,e){return n+Math.floor(r()*(e-n+1))}}var e=n(Math.random);e.createRandom=n,r.exports=e},6686:function(r,n,e){var t=e(9194).createRandom;function i(r){var n=t(r);return function(r){for(var e=r.length,t=e-1,i=-1;++i<e;){var a=n(i,t),o=r[a];r[a]=r[i],r[i]=o}}}var a=i(Math.random);a.createShuffleInPlace=i,r.exports=a}}]);
//# sourceMappingURL=883.70651530.chunk.js.map